---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.2
  name: acceptapis.broker.platform-mesh.io
spec:
  group: broker.platform-mesh.io
  names:
    kind: AcceptAPI
    listKind: AcceptAPIList
    plural: acceptapis
    singular: acceptapi
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: AcceptAPI is the Schema for the acceptapis API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: AcceptAPISpec defines the desired state of AcceptAPI.
            properties:
              filters:
                description: Filters to select which resources of the GVR to accept.
                items:
                  description: Filter defines a filter to select resources.
                  properties:
                    boundary:
                      description: Boundary defines a min and max boundary for numeric
                        filtering.
                      properties:
                        max:
                          type: integer
                        min:
                          type: integer
                      type: object
                    key:
                      minLength: 1
                      type: string
                    valueIn:
                      items:
                        type: string
                      type: array
                  required:
                  - key
                  type: object
                type: array
              gvr:
                description: GVR is the GroupVersionResource of the API to accept.
                properties:
                  group:
                    type: string
                  resource:
                    type: string
                  version:
                    type: string
                required:
                - group
                - resource
                - version
                type: object
              relatedResources:
                description: |-
                  RelatedResources are resources that will be synced back from the
                  provider to the consumer when serving a resource.
                  The GVRs define which resources should be synced back. Which of
                  the resources will be synced back is defined by the
                  RelatedResourceLabel on the resources.
                  The key must be the name of the synced resource.

                  E.g.
                    AcceptAPI for Foo
                    Consumer creates Foo "bar"
                    Broker syncs "bar" to provider
                    Provider creates related Secret "baz" and sets the label RelatedResourceLabel=bar
                    Broker sync Secret "baz" back to consumer
                items:
                  description: |-
                    GroupVersionResource unambiguously identifies a resource.  It doesn't anonymously include GroupVersion
                    to avoid automatic coercion.  It doesn't use a GroupVersion to avoid custom marshalling
                  properties:
                    group:
                      type: string
                    resource:
                      type: string
                    version:
                      type: string
                  required:
                  - group
                  - resource
                  - version
                  type: object
                minItems: 0
                type: array
            required:
            - gvr
            type: object
          status:
            description: AcceptAPIStatus defines the observed state of AcceptAPI.
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
